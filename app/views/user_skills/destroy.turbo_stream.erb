<%= turbo_stream.update "my_skills" do %>
  <%= render 'skills/my_skills', user_skills: current_user.user_skills.includes(:skill) %>
<% end %>

<%= turbo_stream.update "available_skills" do %>
  <%
    available_skills = Skill.where.not(id: current_user.skills.pluck(:id))
    available_skills = available_skills.by_category(params[:category]) if params[:category].present?
    available_skills = available_skills.search(params[:search]) if params[:search].present?
    skills_by_category = available_skills.order(:category, :name).group_by(&:category)
  %>
  <%= render 'skills/available_skills', skills_by_category: skills_by_category %>
<% end %>
