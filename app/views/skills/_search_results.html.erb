<!-- Suggestions intelligentes (toujours visibles) -->
<%= render 'suggestions', suggestions: suggestions %>

<% if searching && skills_by_category.any? %>
  <!-- Skills trouvées via recherche -->
  <div class="card search-results-card">
    <h3 class="font-bold text-foreground mb-4 flex items-center gap-2">
      <svg class="w-5 h-5 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
      </svg>
      Résultats de recherche
      <span class="text-xs text-muted-foreground font-normal">(<%= skills_by_category.values.flatten.count %> trouvées)</span>
    </h3>
    <div class="flex flex-wrap gap-2">
      <% skills_by_category.each do |category, skills| %>
        <% skills.each do |skill| %>
          <%= button_to user_skills_path(skill_id: skill.id),
                        method: :post,
                        class: "available-skill-btn" do %>
            <%= skill_logo(skill, size: 16) %>
            <span><%= skill.name %></span>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
